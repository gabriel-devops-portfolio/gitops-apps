# Default values for penumbra-lqt-bot
replicaCount: 1

image:
  repository: ghcr.io/radiantcommons/penumbra-lqt-bot
  tag: "latest"
  pullPolicy: Always

# Environment variables
env:
  MODE: "all"
  PENUMBRA_RPC_ENDPOINT: "https://rpc-penumbra.radiantcommons.com"
  PENUMBRA_GRPC_ENDPOINT: "https://penumbra-1.radiantcommons.com"
  RPC_TIMEOUT_SECONDS: "30"
  RPC_MAX_RETRIES: "5"
  RPC_RETRY_DELAY_SECONDS: "3"
  LOG_LEVEL: "INFO"
  TEST_MODE: "false"
  CHECK_INTERVAL_MINUTES: "5"
  CHECK_ON_STARTUP: "true"
  LOOP_SLEEP_SECONDS: "5.0"
  # Discord message schedule - send every 3 hours
  STATUS_UPDATE_INTERVAL_HOURS: "3"
  HEALTH_CHECK_INTERVAL_MINUTES: "30"
  SEND_HEALTH_ALERTS: "true"
  SEND_ERROR_NOTIFICATIONS: "true"
  MAX_CONSECUTIVE_ERRORS: "5"
  SEND_STARTUP_MESSAGE: "false"
  STARTUP_MESSAGE: " Penumbra LQT Bot started! Monitoring epochs..."
  SEND_SHUTDOWN_MESSAGE: "false"
  SHUTDOWN_MESSAGE: " Penumbra LQT Bot shutting down..."
  ENABLE_CONSOLE_NOTIFIER: "true"
  CONSOLE_NOTIFIER_PREFIX: "PENUMBRA LQT"
  LOG_FORMAT: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  API_PORT: "8080"
  API_DEBUG: "false"
  CORS_ORIGINS: "*"
  # Discord embed styling
  DISCORD_EMBED_COLOR: "7447FF"
  DISCORD_EMBED_THUMBNAIL: "https://cdn.prod.website-files.com/670d31b6956ae869422bc849/6717e5593e8921b1b6d8f6e4_Vectors-Wrapper.svg"

# Secret configuration
# Use an existing secret containing required environment variables
# Set name to empty string to create a new secret from the secrets values below
existingSecret:
  name: ""
  # Required keys in the secret when using existingSecret:
  # - PENUMBRA_GRPC_ENDPOINT
  # - PENUMBRA_INDEXER_ENDPOINT  
  # - PENUMBRA_INDEXER_CA_CERT
  # - PENUMBRA_CHAIN_ID
  # - DISCORD_WEBHOOK_URLS

# Secret environment variables (only used when existingSecret.name is empty)
secrets:
  DISCORD_WEBHOOK_URLS: ""
  # TELEGRAM_BOT_TOKEN: ""
  # TELEGRAM_CHAT_IDS: ""
  # SLACK_WEBHOOK_URL: ""

service:
  type: ClusterIP
  port: 8080

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

resources: {}

livenessProbe:
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 5
  periodSeconds: 5

# Prometheus metrics configuration
metrics:
  enabled: false

serviceMonitor:
  enabled: false
  labels: {}
  interval: 30s
  scrapeTimeout: 10s
  path: /metrics
  namespace: ""
