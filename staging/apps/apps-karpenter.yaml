application: karpenter
clusterConfig:
  namespace: karpenter
chart:
  name: karpenter
  releaseName: karpenter
  repoURL: public.ecr.aws/karpenter
  targetRevision: 1.4.0
  values: |
    webhook:
      enabled: true
      port: 8443
      metrics:
        port: 8001
    logLevel: info
    settings:
      clusterName: rc-shared
      interruptionQueue: rc-shared
      aws:
        defaultInstanceProfile: KarpenterNodeInstanceProfile-rc-shared
        clusterEndpoint: https://F55339BF58AC86DE2F0AC0A8434F1F34.gr7.eu-west-1.eks.amazonaws.com
    controller:
      resources:
        limits:
          cpu: 1
          memory: 2Gi
        requests:
          cpu: 1
          memory: 2Gi
      logLevel: info
    serviceAccount:
      annotations:
        eks.amazonaws.com/role-arn: arn:aws:iam::485797251250:role/karpenter
    serviceMonitor:
      enabled: true
      additionalLabels:
        release: "kube-prometheus-stack"
    nodeSelector:
      eks.amazonaws.com/nodegroup: internal
    tolerations:
      - key: "internal"
        operator: "Equal"
        value: "critical"
        effect: "NoSchedule"
